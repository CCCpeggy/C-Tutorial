# 實驗課題目 2019/112

<!-- slide -->
## 題目2

<!-- slide -->
### 題目2 - 輸入

``` text
無
```

### 題目2 - 輸出

``` text
short length: 14
```

<!-- slide -->
### 題目2 - 框架

``` C
#include <stdio.h>
#include <stdlib.h>
#define MAX 1000000

typedef struct Maze{
	int left;
	int right;
	int up;
	int down;
	int gone;
}Maze;

Maze** toPtrMaze(Maze maze[6][6]){
	Maze** newMaze = (Maze**)malloc(sizeof(Maze*) * 6);
	for(int i = 0; i < 6; i++){
		newMaze[i] = (Maze*)malloc(sizeof(Maze) * 6);
		for(int j = 0; j < 6; j++){
			newMaze[i][j] = maze[i][j];
		}
	}
	return newMaze;
}

Maze** copyMaze(Maze **maze){
	Maze** newMaze = (Maze**)malloc(sizeof(Maze*) * 6);
	for(int i = 0; i < 6; i++){
		newMaze[i] = (Maze*)malloc(sizeof(Maze) * 6);
		for(int j = 0; j < 6; j++){
			newMaze[i][j] = maze[i][j];
		}
	}
	return newMaze;
}

int findShortRoad(Maze **maze, int indexI, int indexJ){
}

int main(){
	Maze maze[6][6] = {
		{{1, 0, 0, 1, 0}, {0, 1, 0, 0, 0}, {1, 1, 0, 0, 0}, {1, 1, 0, 0, 0}, {1, 1, 0, 1, 0}, {1, 0, 0, 1, 0}},
		{{0, 1, 1, 0, 0}, {1, 1, 0, 1, 0}, {1, 1, 0, 0, 0}, {1, 0, 0, 1, 0}, {0, 0, 1, 0, 0}, {0, 0, 1, 1, 0}},
		{{0, 0, 0, 1, 0}, {0, 0, 1, 1, 0}, {0, 0, 0, 1, 0}, {0, 1, 1, 1, 0}, {1, 1, 0, 0, 0}, {1, 0, 1, 1, 0}},
		{{0, 0, 1, 1, 0}, {0, 1, 1, 1, 0}, {1, 0, 1, 1, 0}, {0, 0, 1, 1, 0}, {0, 0, 0, 1, 0}, {0, 0, 1, 0, 0}},
		{{0, 1, 1, 1, 0}, {1, 0, 1, 0, 0}, {0, 0, 1, 0, 0}, {0, 1, 1, 0, 0}, {1, 0, 1, 0, 0}, {0, 1, 0, 1, 0}},
		{{0, 1, 1, 0, 0}, {1, 1, 0, 0, 0}, {1, 1, 0, 0, 0}, {1, 1, 0, 0, 0}, {1, 1, 0, 0, 0}, {1, 0, 1, 0, 0}}
	};
	Maze** mazePtr = toPtrMaze(maze);
	int shortRoad  = findShortRoad(mazePtr, 0, 0);
	printf("short length: %d\n", shortRoad);
}
```

<!-- slide -->
### 題目2 - 圖解

此範例行走方向為下上左右
<!-- slide -->
``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
    |                   |
|   +---+---+---+   |   +
|               |   |   |
|               |   |   |
+---+   +---+   +---+   +
|   |   |   |           |
|   |   |   |           |
|   |   |   |   +---+   +
|   |       |   |   |   |
|   |       |   |   |   |
|   |   |   |   |   +---+
|       |   |       |   
|       |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--- |                   |
|   +---+---+---+   |   +
|               |   |   |
|               |   |   |
+---+   +---+   +---+   +
|   |   |   |           |
|   |   |   |           |
|   |   |   |   +---+   +
|   |       |   |   |   |
|   |       |   |   |   |
|   |   |   |   |   +---+
|       |   |       |  
|       |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```
<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| |             |   |   |
+---+   +---+   +---+   +
|   |   |   |           |
|   |   |   |           |
|   |   |   |   +---+   +
|   |       |   |   |   |
|   |       |   |   |   |
|   |   |   |   |   +---+
|       |   |       |  
|       |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```
<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +----         |   |   |
+---+   +---+   +---+   +
|   |   |   |           |
|   |   |   |           |
|   |   |   |   +---+   +
|   |       |   |   |   |
|   |       |   |   |   |
|   |   |   |   |   +---+
|       |   |       |  
|       |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```
<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |    2        |   |   |
| +---+-->      |   |   |
+---+ |1+---+   +---+   +
|   | V |   |           |
|   |   |   |           |
|   |   |   |   +---+   +
|   |       |   |   |   |
|   |       |   |   |   |
|   |   |   |   |   +---+
|       |   |       |  
|       |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   |   |   |           |
|   |   |   |   +---+   +
|   |       |   |   |   |
|   |       |   |   |   |
|   |   |   |   |   +---+
|       |   |       |  
|       |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```
<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   |       |   |   |   |
|   |       |   |   |   |
|   |   |   |   |   +---+
|       |   |       |  
|       |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```
<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   |   |   |   |   +---+
|       |   |       |  
|       |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```
<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | | 2   |   |   |   |
|   | +---> |   |   |   |
|   | |1|   |   |   +---+
|     v |   |       |  
|       |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   | | |   |   |   +---+
|     | |   |       |  
|     | |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```
<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   | | |   |   |   +---+
|     | |   |       |  
| ----+ |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```


<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
| ^ | | |   |   |   +---+
| |1  | |   |       |  
| +---+ |   |       |   
| |2----+---+---+---+   |
| v                     |
|                       |
+---+---+---+---+---+---+
```


<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   | | |   |   |   +---+
| |   | |   |       |  
| +---+ |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
| | | |     |   |   |   |
| | | | |   |   |   +---+
| |   | |   |       |  
| +---+ |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```
<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
| | | | |   |   +---+   +
| | | |     |   |   |   |
| | | |     |   |   |   |
| | | | |   |   |   +---+
| |   | |   |       |  
| +---+ |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```
<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
| | | | |   |           |
| | | | |   |   +---+   +
| | | |     |   |   |   |
| | | |     |   |   |   |
| | | | |   |   |   +---+
| |   | |   |       |  
| +---+ |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```
<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
| | | | |   |   +---+   +
| | | |     |   |   |   |
| | | |     |   |   |   |
| | | | |   |   |   +---+
| |   | |   |       |  
| +---+ |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```
<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
| | | |     |   |   |   |
| | | | |   |   |   +---+
| |   | |   |       |  
| +---+ |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   | | |   |   |   +---+
| |   | |   |       |  
| +---+ |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   | | |   |   |   +---+
|     | |   |       |  
| ----+ |   |       |   
|   ----+---+---+---+   |
|                       |
|                       |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   | | |   |   |   +---+
|     | |   |       |  
| +---+ |   |       |   
| | ----+---+---+---+   |
| |                     |
| |                     |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   | | |   |   |   +---+
|     | |   |       |  
| +---+ |   |       |   
| | ----+---+---+---+   |
| |                     |
| +---                  |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   | | |   |   |   +---+
|     | |   |       |  
| +---+ |   |       |   
| | ----+---+---+---+   |
| |                     |
| +--------             |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   | | |   |   |   +---+
|     | |   |       |  
| +---+ |   |       |   
| | ----+---+---+---+   |
| |                     |
| +------------         |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   | | |   |   |   +---+
|     | |   |       |  
| +---+ |   |       |   
| | ----+---+---+---+   |
| |                     |
| +----------------     |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   | | |   |   |   +---+
|     | |   |       |  
| +---+ |   |       |   
| | ----+---+---+---+   |
| |                     |
| +-------------------- |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   | | |   |   |   +---+
|     | |   |       | |
| +---+ |   |       | | 
| | ----+---+---+---+ | |
| |                   | |
| +-------------------+ |
+---+---+---+---+---+---+
```

<!-- slide -->

``` ditaa {cmd=true args=["-E", "-S", "-t", "2", "-s", "1.5"]}
+---+---+---+---+---+---+
    |                   |
--+ |                   |
| | +---+---+---+   |   +
| |             |   |   |
| +---+         |   |   |
+---+ | +---+   +---+   +
|   | | |   |           |
|   | | |   |           |
|   | | |   |   +---+   +
|   | |     |   |   |   |
|   | |     |   |   |   |
|   | | |   |   |   +---+
|     | |   |       | +-->
| +---+ |   |       | | 
| | ----+---+---+---+ | |
| |                   | |
| +-------------------+ |
+---+---+---+---+---+---+
```

<!-- slide -->
### 題目2 - 程式碼

``` C
#include <stdio.h>
#include <stdlib.h>
#define MAX 1000000

typedef struct Maze{
	int left;
	int right;
	int up;
	int down;
	int gone;
}Maze;

Maze** toPtrMaze(Maze maze[6][6]){
	Maze** newMaze = (Maze**)malloc(sizeof(Maze*) * 6);
	for(int i = 0; i < 6; i++){
		newMaze[i] = (Maze*)malloc(sizeof(Maze) * 6);
		for(int j = 0; j < 6; j++){
			newMaze[i][j] = maze[i][j];
		}
	}
	return newMaze;
}

Maze** copyMaze(Maze **maze){
	Maze** newMaze = (Maze**)malloc(sizeof(Maze*) * 6);
	for(int i = 0; i < 6; i++){
		newMaze[i] = (Maze*)malloc(sizeof(Maze) * 6);
		for(int j = 0; j < 6; j++){
			newMaze[i][j] = maze[i][j];
		}
	}
	return newMaze;
}

int findShortRoad(Maze **maze, int indexI, int indexJ){
	if(indexJ >= 6) return 0;
	if(maze[indexI][indexJ].gone) return MAX;
	maze[indexI][indexJ].gone = 1;
	int length = MAX;
	if(maze[indexI][indexJ].down)
	{
		int thisLength = findShortRoad(copyMaze(maze), indexI + 1, indexJ);
		if(thisLength < length) length = thisLength;
	}
	if(maze[indexI][indexJ].up) 
	{
		int thisLength = findShortRoad(copyMaze(maze), indexI - 1, indexJ);
		if(thisLength < length) length = thisLength;
	}
	if(maze[indexI][indexJ].left)
	{
		int thisLength = findShortRoad(copyMaze(maze), indexI, indexJ - 1);
		if(thisLength < length) length = thisLength;
	}
	if(maze[indexI][indexJ].right) 
	{
		int thisLength = findShortRoad(copyMaze(maze), indexI, indexJ + 1);
		if(thisLength < length) length = thisLength;
	}
	return length + 1;
}

int main(){
	Maze maze[6][6] = {
		{{1, 0, 0, 1, 0}, {0, 1, 0, 0, 0}, {1, 1, 0, 0, 0}, {1, 1, 0, 0, 0}, {1, 1, 0, 1, 0}, {1, 0, 0, 1, 0}},
		{{0, 1, 1, 0, 0}, {1, 1, 0, 1, 0}, {1, 1, 0, 0, 0}, {1, 0, 0, 1, 0}, {0, 0, 1, 0, 0}, {0, 0, 1, 1, 0}},
		{{0, 0, 0, 1, 0}, {0, 0, 1, 1, 0}, {0, 0, 0, 1, 0}, {0, 1, 1, 1, 0}, {1, 1, 0, 0, 0}, {1, 0, 1, 1, 0}},
		{{0, 0, 1, 1, 0}, {0, 1, 1, 1, 0}, {1, 0, 1, 1, 0}, {0, 0, 1, 1, 0}, {0, 0, 0, 1, 0}, {0, 0, 1, 0, 0}},
		{{0, 1, 1, 1, 0}, {1, 0, 1, 0, 0}, {0, 0, 1, 0, 0}, {0, 1, 1, 0, 0}, {1, 0, 1, 0, 0}, {0, 1, 0, 1, 0}},
		{{0, 1, 1, 0, 0}, {1, 1, 0, 0, 0}, {1, 1, 0, 0, 0}, {1, 1, 0, 0, 0}, {1, 1, 0, 0, 0}, {1, 0, 1, 0, 0}}
	};
	Maze** mazePtr = toPtrMaze(maze);
	int shortRoad  = findShortRoad(mazePtr, 0, 0);
	printf("short length: %d\n", shortRoad);
}
```
